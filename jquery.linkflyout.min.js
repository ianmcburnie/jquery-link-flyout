
(function($,window,document,undefined){$.fn.linkFlyout=function linkFlyout(options){options=$.extend({autoCollapse:true,debug:false,focusManagement:'none',anchorSelector:'.flyout__anchor, > a',overlaySelector:'.flyout__overlay'},options);return this.each(function onEach(){var $widget=$(this);var $link=$widget.find(options.anchorSelector);var $overlay=$widget.find(options.overlaySelector);var $toggleButton;$widget.nextId('link-flyout');$toggleButton=$('<button class="flyout__button" type="button">Expand '+$link.text()+'</button>');$toggleButton.insertAfter($link);$widget.buttonFlyout({autoCollapse:options.autoCollapse,debug:options.debug,focusManagement:options.focusManagement});$overlay.mouseExit();if(options.autoCollapse===true){$toggleButton.on('focus',function onToggleButtonFocus(e){if($toggleButton.attr('aria-expanded')==='true'){$toggleButton.attr('aria-expanded','false');}});}
$widget.on('mouseenter',function onLinkMouseEnter(e){if($toggleButton.attr('aria-expanded')==='false'){$toggleButton.attr('aria-expanded','true');$widget.one('mouseExit',function onOverlayMouseExit(){$toggleButton.attr('aria-expanded','false');});}});});};}(jQuery,window,document));